---
layout:     post
title:      "多媒体技术基础"
date:       2018-01-11
tags:
    - Code
    - MultiMedia
    - JPEG
    - MPEG
categories:
    - Reading
---

有个说法是：一切都是文件。于是我们可以将文件分为文本文件和二进制文件，有些文件又被称为媒体文件，多种多样的媒体文件是以什么样的格式组成的？背后又有哪些编码上的技术来减少文件的大小？本篇文章将就此展开讨论。

<!--more-->

## 多媒体的编著和表征

什么是媒体？媒体是一种交流的媒介，一种渠道，自然人之间的交互有多种渠道，视觉方面文字，图像，视频等等。听觉方面，声音。等等。

通常所说的多媒体，指使用多种模态的媒体。超媒体，类比超文本的概念，普通的文本，按照页码的线性顺序，超文本的文本间有跳跃。类似的，超媒体的链接可以链接到其他媒体。

针对不同媒体有不同的编著软件，比如图像有PhotoShop，GIMP；视频有Vegas，PR，AE；动画，音频等等，还有很多文本编辑器。我们所需要学习的也就是这些软件背后的基本原理。

关于图像的格式，二值图像/具有多种亮度的图像/彩色图像，人眼的成像原理，真彩色，24bit，RGB三个通道。最多表示2^24种图像，很多时候我们看到的是8bit的彩色图像，可以使用颜色查找表。图像也有很多种保存格式。

关于图像的颜色，本质上是不同波长的光，能看到颜色，是因为人眼睛里面有锥状细胞，对红绿蓝三种颜色最为敏感。还有感应亮度的柱状细胞，另外，颜色有很多表示空间，计算机显示的RGB模型变换成人眼感知的CIE色度图（亮度/色调/饱和度），还有xyz，lab等等色彩空间。可以把模型分为加性模型（比如RGB）和减性模型（比如CMYK），还有很多视频中用到的颜色模型。

另外关于视频的基本概念，分量视频是指把每种量分开，符合视频把这些量和到一起，折中的分离视频（超视频）使用不同波存不同量的信息，可以通过滤波把不同量分开，旧式模拟视频成像是通过扫描来实现的，数字视频把图像储存为矩阵，由于人眼的不敏感性，我们可以使用色度的二次采样来降低储存需求。

音频是关于时间的一维信号，数字化过程中需要在时间上采样，幅度上量化，奈奎斯特采样定理告诉我们必须使用大于最高频率两位的采样率来采样才能完全恢复原来的信号，量化是一种十分有效的数据压缩手段。量化的噪声比SQNR，6.02N db（N bits），量化上也有很多种方法，不一定是一个线性的量化。

在接触音频时，我们接触到了很多种编码方式，比如脉冲调制，差分编码，其中，差分编码编码每次和前次的之间的差值。

## 多媒体文件的编码和压缩

无损压缩，没有损失，香农的信息论，信息熵：信息最少用多少bit表示？很多种无损压缩编码：香农凡诺编码/哈夫曼编码，根据出现频率建立一棵树，频率越大分配的位数越少；自适应的字典编码，可以对小型的字符串编码；算数编码，把把每个字符投影到0-1范围内，使用二进制序列表示。一般来说，无损压缩压缩比最大2-3之间。

有损压缩，对于文件质量并没有那么严苛的要求，使量降低的重点主要是是量化，均匀量化也可以导出之前的6.02N db，量化以后做编码，可以使用差分编码，也可以先通过DCT变化在另一个空间里面做预测，做差分编码，当然也可以通过小波变换以后再进行类似的操作。总的来说就有损压缩就是量化+变换空间然后编码。

对于一些具体的媒体形态的具体算法。

图像压缩的过程，彩色图像的颜色空间进行变换（YIQ分离亮度/颜色分量分别编码），进行分块，DCT，量化，预测，编码。JPEG有很多模式，比如顺序模式/分级模式，可以在压缩端/解压端使用相同的预测编码基，JPEG2000引入感兴趣区域编码，使用小波变换。

视频压缩，图像上冗余主要是利用空间上的容易，视频压缩更主要的是利用时间上的冗余，使用当前帧图像对未来图像进行预测，编码预测误差。怎样减少预测误差？对图像进行分块，可能只是图像块的位置的改变，估计运动向量进行运动补偿。H.261将图像分为I帧和P帧，编码流程：预测/量化/编码。然后有MPEG系列的编码方式，MPEG1增加B帧，可以参考前向，也可以参考后向，增大运动向量估计寻找到的概率。MPEG2支持隔行扫描，可伸缩性更好，先提供低质量的视频编码，然后通过额外信息增加质量。MPEG4的交互性大大增强，基于对象的编码，对于对象不规则的形状的估计，对边界的扩展和填充，纹理编码，等等。

音频编码，用一些发生器利用相位不敏感性和声音的一些特性来模拟。预测编码有线性的预测编码，更复杂的是码激励线性预测，MPEG主要是利用人的心理声学。

## 多媒体通信和检索

多媒体通信课上主要讲了OSI七层，TCP/IP协议族，局域网令牌机制，广域网电路交换/包交换机制。