---
layout:     post
title:      "计算机网络自顶向下方法"
date:       2018-01-13
tags:
    - Code
    - Computer Network
categories:
    - Reading
---

本文将总结计算机网络课程的相关内容，将只叙述最为基本的那部分知识。

<!--more-->

## 前言
> 本文对应教材为
> 计算机网络--自顶向下方法(第4版影印版) ISBN：9787040268454

## 计算机网络和因特网
+ 什么是英特网？
    + 从构成上看：包括互联网的基本硬件和软件组件。（通信链路/分组交换机/路由器/链路层交换机）
    + 从功能上看：为分布式应用提供服务的联网基础设施。（例如应用程序接口）
    + 协议说明了通信实体之间交换报文的格式和次序。
+ 网络边缘：客户和服务器 / 接入网的多种方式 / 多种物理媒介
+ 网络核心：分组交换，粗略段端到段的时延＝N(nL/R)
    + 路由选择协议
    + 电路交换/分组交换
    + 网络互联
+ 节点总时延：节点处理/排队/传输（转发）/传播（电缆上
    + 流量强度不能大于１
+ 分层便于设计维护
    + 应用层：互联网应用及其应用层协议（如HTTP/SMTP/FTP等）
    + 运输层：在应用程序端之间传送报文（TCP/UDP）
    + 网络层：负责将数据包从一台主机移动到另一台主机（IP协议/路由选择协议）
    + 链路层：将数据包从一个节点移动到下一个节点
    + 物理层：将整个帧从一个网络元素移动到临近的网络元素
+ 计算机网络有很多威胁和攻击
+ 计算机网络历史


## 应用层
> 几种网络协议/开发TCP/UDP上的网络应用程序

+ 体系结构：C/S, P2P
+ 进程通讯
    + 借口　socket
    + 进程寻址　ip:port
+ 提供服务
    + TCP：面向连接，可靠，流控制，拥塞控制，
    + UDP：轻量级，最小服务，不可靠
+ 应用层协议
    + HTTP：超文本传输协议，浏览器进进程和服务器进程通过socket借口访问TCP
    + SMTP：简单电子邮件传输协议，邮件服务器，用户代理，使用TCP可靠数据传输
+ DNS
    + 英特网的目录服务，是一个分布式数据库/可以查询的协议。
    + DNS服务器的分层设计和报文格式
+ P2P
    + 点对点，文件分发。
    + P2P环路和细节
+ 嵌套字编程

## 运输层
+ 运输层协议为运行在不同主机上的机器提供了逻辑通信机制，向下使用提供了主机之间的逻辑通信的网络层。
+ 网络层的网际协议：尽力而为服务，不可靠交付。
+ 运输层将端系统间的交互扩展到进程间的交付，提供多路复用/分解机制。
    + TCP，可靠数据传输，拥塞控制。
    + UDP，最细限度。
+ 多路复用/分解：需要源端口号，目的端口号。
+ UDP：源IP端口/IP地址，目的端口号/IP地址，长度，检验位。（8字节首部）
+ TCP：如何在下层不可靠的情况下提供可靠的服务？（20字节首部）
    + rdt1.0 发送接收。
    + rdt2.0 引入校验机制，检查收到的数据的完整性，NAK/ACK标明。
    + rdt2.1 引入分组机制，NAK/ACK也可能出问题，没有ACK就重发。
    + rdt2.2 引入冗杂机制，没有接受到当前ACK就重发。
    + rdt3.0 引入计时器，定时重传。
        + 为了提高效率，加入流水线。
        + 回退N步（GBN）/选择重传（SR）差错恢复方法
    + TCP连接
        + 面向连接/全双工/点对点
        + TCP报文段/报文头格式
        + SEQ：当前字节流第一个 ACK：期望对方来的字节流第一个
        + 估计往返时间/计算超时，指数加权平均移动/设置重传时间。
        + 可靠数据传输：确认序列号/流量控制：接受窗口/拥塞控制
        + 三次握手，SYN置1
        + 四次挥手，FIN第一次结束方就失去发送信息能力。
        + 拥塞控制原理：加增乘减，慢启动/拥塞避免/快速恢复
        + 公平性和并行TCP链接，以什么为单位分配资源

## 网络层
+ 转发：移动到出口/路由选择：选择路径
+ 网络层服务模型：尽力而为，不做保证。
    + 虚电路，建立连接。
    + 数据报网络，直接就发。
+ 路由器体系
    + 输入/交换结构/输出
    + 内存/总线/纵横式，甚至可以以光为媒介。
    + 输出端口的排队问题，缓存=RTT×链路容量/sqrt(流数目)
    + 调度机制，FCFS，WFQ(weight)，主动队列管理，随机早期检测等
+ IPv4
    + 报文格式
    + MTU最大传输单元
    + offsite ( >> 3 ) and data length
    + 编址，子网
    + 获取主机地址：动态主机配置协议
    + NAT网络地址转换技术，穿越
    + ICMP控制报文
    + IPv6 40字节首部
+ 路由选择算法
    + 最短路径
    + 全局式
        + Link State算法
        + 广播 + Dijkstra算法
    + 分散式
        + Distance-Vector算法
        + 异步/迭代/自我终止/分布式
        + 坏消息传递慢：毒性逆转，不适用三个或更多的环路
    + 层次路由选择
        + 规模/管理自治
        + 自治系统间路由选择协议，热土豆路由选择
    + 英特网中的路由选择
        + Route Information Protocol, RIP
            + 条数作为度量
            + 超时删掉条目
        + Open Shortest Path First, OSPF
            + 安全：密匙/MD5序列号
            + 支持单播多播
        + 自制系统间的路由选择
            + Border Gateway Protocol， BGP

## 数据链路层

现在只记得关于共享信道之类的一些算法了，药丸。

## 物理层

你什么时候见过着重讲物理层的？

## 移动网络

大概就是你的设备从一个网络区域进入另一个，如果保证你的连接不中断。

当然是拿过分的资源砸（为您服务）啊，电信相关的算法和传统计算机网路的算法还是不一样的。

## 互联网安全

这个有点像另一门专门的课程，关于加密算法/认证等等的一些知识。